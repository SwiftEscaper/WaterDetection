## 🌧️🏗️ 터널 내 침수 사고 방지 시스템  

본 프로젝트는 **라즈베리파이**와 **수위 센서**를 이용하여 터널 내 **침수 사고를 예방**하기 위해 설계된 시스템입니다.  
기상 데이터를 활용해 강수 시에만 수위 센서를 활성화하고, 위험 상황을 감지하면 **서버로 데이터를 전송**합니다.  

<br>

### 📂 프로젝트 구조  

```plaintext
📁 project-root/
├── README.md            # 프로젝트 설명 파일
├── RainInfo.py          # 기상청 API를 통해 강수량 정보를 확인
├── WaterSensor.py       # 라즈베리파이 수위 센서 데이터 읽기
├── main_raspi.py        # 라즈베리파이 실행용 메인 파일
└── server.py            # 서버 실행 파일
```

<br>

### ⚙️ 주요 기능  

#### 1️⃣ **기상 데이터를 활용한 스마트 센서 활성화**  
- 'RainInfo.py'를 통해 **기상청 API**에서 특정 위경도 지역의 **강수 예보**를 확인합니다.  
- 비가 예보된 경우에만 수위 센서를 활성화합니다.  

#### 2️⃣ **수위 센서 데이터 수집 및 분석**  
- 'WaterSensor.py'를 이용해 수위 센서 값을 읽어들입니다.  
- 센서 값이 **1**(물이 닿음)일 경우 침수 위험으로 판단하고 서버로 데이터를 전송합니다.  
- **30분 동안 센서 값이 "물이 닿지 않음(0)" 상태**가 지속될 경우, 센서 작동을 멈춥니다.  

#### 3️⃣ **서버로 위험 정보 전송**  
- 라즈베리파이에서 감지한 침수 사고 데이터를 실시간으로 **서버**에 전송합니다.  

<br>

### 🛠️ 설치 및 실행 방법  

#### 1️⃣ **기상청 개인 API Key 변경**  
- 'main_raspi.py' 파일 내부에 본인의 **기상청 API Key**를 변경합니다.  

#### 2️⃣ **시스템 실행**  

#### 1. 서버 실행 (HPC):  
서버는 'server.py' 파일을 실행합니다.  
```bash
python server.py
```

#### 2. 라즈베리파이 실행:  
라즈베리파이에서 'main_raspi.py'를 실행합니다.  
```bash
python main_raspi.py
```

<br>


#### 📌 설치 시 유의 사항  

1. **센서 설치**:  
   - 수위 센서는 침수 사고가 예상되는 해당 **m 높이**에 설치해야 합니다.  
2. **네트워크 연결**:  
   - 라즈베리파이와 서버 간 원활한 통신을 위해 네트워크 설정을 확인하세요.  
